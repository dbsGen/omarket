!function(i){function n(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var r={};return n.m=i,n.c=r,n.p="",n(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r);"undefined"!=typeof jQuery&&jQuery?!function(t){t.fn.gixi=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t.seed=t.seed||this.data("gixiseed"),t.size=t.size||this.data("gixisize")||this.height(),t.size=Math.round(t.size),t.color=t.color||this.data("gixicolor");var e=new a["default"](t.size,t.seed);"undefined"!==t.color&&(e.fillStyle=t.color);var i=e.getImage();"IMG"!==this.prop("tagName")?this.css({"background-image":"url("+i+")"}):this.attr("src",i)}}(jQuery):false;"undefined"!=typeof window?window.GIXI=a["default"]:t.exports=a["default"],e["default"]=a["default"]},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),a=function(){function e(t){r(this,e),this.r=Math.floor(200*t.random()),this.g=Math.floor(200*t.random()),this.b=Math.floor(200*t.random()),this.t=1}return i(e,[{key:"rgba",value:function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.t+")"}}]),e}(),n=function(){function n(){var t=arguments.length<=0||void 0===arguments[0]?60:arguments[0],e=arguments.length<=1||void 0===arguments[1]?Math.random():arguments[1];r(this,n),this.w=t,this.h=t,this.PARTITIONS=3,this.LESS_SEED=6,this.BASE_SEED=5,this.SEED_H=this.h/this.BASE_SEED,this.SEED_W=this.w/this.BASE_SEED,this.random_seed=0,e=e.toString();for(var i=0;i<e.length;i++)this.random_seed+=e.charCodeAt(i)}return i(n,[{key:"random",value:function(){return this.random_seed=Math.sin(34812*this.random_seed+.3),Math.abs(this.random_seed)}},{key:"getImage",value:function(){var t=document.createElement("canvas"),e=null;if(t.width=this.w,t.height=this.h,!t&&!t.getContext)throw new Error("Canvas does not supported");return this.drw=t.getContext("2d"),this.drw.fillStyle=this.fillStyle||new a(this).rgba(),this.map(this.grid()),e=t.toDataURL(),t=null,e}},{key:"draw",value:function(){this.drw.fillRect.apply(this.drw,arguments)}},{key:"map",value:function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++)t[e][i]===!0&&(this.draw(this.SEED_H*e,this.SEED_W*i,this.SEED_W,this.SEED_H),e<this.PARTITIONS-1&&this.draw(this.SEED_H*(this.PARTITIONS+1-e),this.SEED_W*i,this.SEED_W,this.SEED_H))}},{key:"grid",value:function(){for(var n=this,t=function(){for(var i=[],t=0;t<n.PARTITIONS;t++){i[t]=[];for(var e=0;e<n.BASE_SEED;e++)i[t][e]=!!Math.floor(2*n.random())}return i[n.PARTITIONS-1]=i[n.PARTITIONS-1].map(function(t,e){return i[n.PARTITIONS-2][e]!==t&&!!Math.floor(2*n.random())}),{map:i,dots:function(){return i.map(function(t){return t.reduce(function(t,e){return e?t+e:t})}).reduce(function(t,e){return e+t})},isFilledTop:function(){return i.map(function(t){return t[0]}).reduce(function(t,e){return!(!t&&!e)})},isFilledBottom:function(){return i.map(function(t){return t[t.length-1]}).reduce(function(t,e){return!(!t&&!e)})}}},e=t();e.dots()<this.LESS_SEED||!e.isFilledTop()||!e.isFilledBottom();)e=t();return e.map}}]),n}();e["default"]=n}]);(function(){var s={website:"https://dbsgen.github.io/profiles/www/profile/",host:"https://mainnet.nebulas.io",address:"n1zv4YirpBMxsUKNx525q1V5Gzub94nYumQ",card_width:230,card_height:110,animation_during:400};var t=require("nebulas");var r=t.Account;var a=new t.Neb;var o=0;a.setRequest(new t.HttpRequest(s.host));var c=[];document.body.onmousemove=function(t){for(var e=0,i=c.length;e<i;++e){c[e](t)}};var n=function(){if(arguments.length>0){var i=arguments[0];var n=[];for(var t=1;t<arguments.length;++t){n.push(arguments[t])}var e={then:function(t){this._then=t;return this},catch:function(t){this._catch=t;return this}};(function(e){var t;if(!t){t=r.NewAccount().getAddressString()}a.api.call({from:t,to:s.address,value:0,nonce:o++,gasPrice:1e6,gasLimit:2e6,contract:{function:i,args:JSON.stringify(n)}}).then(function(t){if(e._then)e._then(t)}).catch(function(t){if(e._catch)e._catch(t)})})(e);return e}};function h(r,t){this.data=t;this.elem=r;var a=this;this.is_display=false;r.onmouseenter=function(){if(!a.card){a.card=document.createElement("div");a.card.style.position="absolute";a.card.style.backgroundColor="#fff";a.card.style.boxShadow="0 0 2px #aaa";a.card.style.padding="0";a.card.style.margin="0";a.card.style.width="240px";a.card.style.height="110px";a.card.style.zIndex=100;a.iframe=document.createElement("iframe");a.iframe.setAttribute("src",s.website+"#"+a.data.hash);a.iframe.style.border="none";a.iframe.style.padding="0";a.iframe.style.margin="0";a.iframe.style.width="100%";a.iframe.style.height="100%";a.card.appendChild(a.iframe);a.cover=document.createElement("div");a.cover.style.backgroundColor="#fff";a.cover.style.position="absolute";a.cover.style.width="100%";a.cover.style.height="100%";a.cover.style.left="0px";a.cover.style.top="0px";a.cover.style.transition="opacity 300ms";a.card.appendChild(a.cover);a.iframe.onload=function(){setTimeout(function(){a.cover.style.opacity=0;setTimeout(function(){a.cover.style.display="none"},300)},100)};var t=document.body.scrollHeight;var e=document.body.scrollWidth;document.body.appendChild(a.card);var i={left:r.offsetLeft,top:r.offsetTop,right:r.offsetLeft+r.offsetWidth,bottom:r.offsetTop+r.offsetHeight};var n="px";if(i.bottom+s.card_height>=t&&i.top-s.card_height>0){a.card.style.top=i.top-s.card_height+n}else{a.card.style.top=i.bottom+n}if(i.left+s.card_width>e){a.card.style.left=i.right-s.card_width+n}else{a.card.style.left=i.left+n}}a.display()};function o(t,e){return e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom}this.onmousemove=function(t){var e=a.elem.getBoundingClientRect();var i=a.card.getBoundingClientRect();var n={x:t.clientX,y:t.clientY};if(!o(e,n)&&!o(i,n)){a.miss();var r=c.indexOf(a.onmousemove);if(r>=0)c.splice(r,1)}}}h.prototype.display=function(){if(this.is_display)return;this.is_display=true;this.startAnimation();c.push(this.onmousemove)};h.prototype.miss=function(){if(!this.is_display)return;this.is_display=false;this.startAnimation(true)};h.prototype.startAnimation=function(i){var n=this;if(n.animationHandle){cancelAnimationFrame(n.animationHandle)}var r=0;n.card.style.display="block";function a(t){if(!r){r=t}else{var e=(t-r)/s.animation_during;if(e>1){e=1}n.update(i?1-e:e);if(e===1){if(i){n.card.style.display="none"}return}}n.animationHandle=requestAnimationFrame(a)}n.animationHandle=requestAnimationFrame(a)};h.prototype.update=function(t){this.card.style.opacity=t};window.Profiles={init:function(){var t=document.querySelectorAll("[data-wallet]"),e,i,n;for(e=0,i=t.length;e<i;++e){n=t[e];this.elem(n)}t=document.querySelectorAll("[data-wallet-image]");var r=this;for(e=0,i=t.length;e<i;++e){n=t[e];(function(e){var t=e.getAttribute("data-wallet-image");r.fetchImage(t).then(function(t){e.setAttribute("src",t)})})(n)}},elem:function(e){var i=e.getAttribute("data-wallet");this.fetch(i).then(function(t){if(t){e.innerText=t.name;new h(e,t)}else{new h(e,{hash:i})}}).catch(function(t){})},fetch:function(e){var i={then:function(t){this._then=t;return this},catch:function(t){this._catch=t;return this}};a.api.getAccountState({address:e}).then(function(t){n("fetch",e).then(function(t){if(i._then){i._then(JSON.parse(t.result))}}).catch(function(t){if(i._catch){i._catch(t)}})}).catch(function(t){if(i._catch){i._catch(t)}});return i},fetchImage:function(i){var n={then:function(t){this._then=t;return this},catch:function(t){this._catch=t;return this}};this.fetch(i).then(function(t){if(t){if(n._then){n._then(t.avatar)}}else{if(n._then){var e=new GIXI(96,i).getImage();n._then(e)}}}).catch(function(t){if(n._catch){n._catch(t)}});return n}}})();